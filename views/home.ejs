<!-- upload -->
<div class="container">
  <!-- main text -->
  <div class="text-center">
    <h1>Upload a CSV File</h1>
  </div>

  <!-- upload box -->
  <form action="/upload" method="post" enctype="multipart/form-data">
    <div
      class="mt-2 p-5 border border-dashed border-4 rounded d-flex justify-content-center"
    >
      <input type="file" id="csvFile" name="file" accept=".csv" />
      <button class="btn btn-primary border-0 rounded">Upload</button>
    </div>    
  </form>
</div>

<!-- show uploaded files -->
<div class="mt-4">
  <div class="text-center text-white">
    <h2
      class="d-flex justify-content-center py-3"
      style="background-color: #2e5e35"
    >
      Uploaded Files
    </h2>
  </div>

  <% if(files.length==0) { %>
  <div class="text-center" style="color: steelblue">No files to show!</div>
  <% } else { %>
  <table class="table text-center">
    <thead>
      <tr>
        <th>Name</th>
        <th>Date</th>
        <th>Time (UTC)</th>
        <th>View</th>
        <th>Delete</th>
      </tr>
    </thead>
    <tbody>
      <% for(let file of files) { %>
      <tr>
        <td><%= file.fileName %></td>
        <td><%= file.createdAt.toLocaleDateString() %></td>
        <td><%= file.createdAt.toLocaleTimeString() %></td>
        <td>
          <a href="/view/<%= file.file %>" class="view-link"
            ><i class="fa-solid fa-arrow-up-right-from-square"></i
          ></a>
        </td>
        <td>
          <a href="/delete/<%= file.file %>" class="delete-link"
            ><i class="fa-regular fa-trash-can" style="color: darkred"></i
          ></a>
        </td>
      </tr>
      <% } %>
    </tbody>
  </table>
  <% } %>
</div>
